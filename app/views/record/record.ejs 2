<!DOCTYPE html>
<html>
  <head>
    <% include ../layout/head %>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <% include ../layout/navbar %>
      </div>

      <div class="row">

        <ul class="countdown list-unstyled list-inline text-center">
          <li>
            <span class="days">00</span>
            <p class="days_ref">days</p>
          </li>
          <li class="seperator">.</li>
          <li>
            <span class="hours">00</span>
            <p class="hours_ref">hours</p>
          </li>
          <li class="seperator">:</li>
          <li>
            <span class="minutes">00</span>
            <p class="minutes_ref">minutes</p>
          </li>
          <li class="seperator">:</li>
          <li>
            <span class="seconds">00</span>
            <p class="seconds_ref">seconds</p>
          </li>
        </ul>

      </div>


      <div class="row">

          <div class="jumbotron">
            <p><%= match.info.month %>월 <%= match.info.day %>일 / <%= match.info.hour %>:00  - 오학체육공원 </p>
            <p><%= match.info.matchName %></p>
            <div class="panel panel-default">
              <div class="panel-body">
                <div class="row">
                  <!-- "http://localhost:3023/images/clubs/" -->
                  <img class="img-circle home pull-left" src="http://localhost:3023/images/clubs/<%= match.info.homeClubId %>/image.jpg" width="100" height="100" class="img-circle">
                  <img class="img-circle away pull-right" src="http://localhost:3023/images/clubs/<%= match.info.awayClubId %>/image.jpg" width="100" height="100" class="img-circle">
                  <h3><%= match.info.homeClubName %> <strong> - : - </strong> <%= match.info.awayClubName %></h3>
                </div>
                </button>
              </div>
            </div>
          </div>

      </div>



      <div class="row">



        <div class="col-md-4 col-xs-4">
          <div class="panel panel-success">
            <div class="panel-heading">HOME</div>
            <div class="panel-body">
              <h5>선발</h5>
              <ul class="list-group">
                <% match.homePlayers.starting.forEach(function(item, index){ %>
                  <li class="list-group-item">
                    <% switch(item.matchPosition) {
                      case "GK" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-warning gk">GK</span>
                      <% break;
                      case "DF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-success df">DF</span>
                      <% break;
                      case "MF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-primary mf">MF</span>
                      <% break;
                      case "FW" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-danger fw'">FW</span>
                      <% break;
                    } %>
                      <span class="glyphicon glyphicon-retweet pull-right"></span>
                      <span class="pull-right">&nbsp;&nbsp;</span>
                      <span class="pull-right">
                        <strong> <%= item.squadNumber %></strong>
                          <%= item.playerName  %>
                      </span>
                  </li>
                <% }); %>
              </ul>
            </div>
            <div class="panel-footer">
              <h5>대기</h5>
              <ul class="list-group sub">
                <% match.homePlayers.sub.forEach(function(item, index){ %>
                  <li class="list-group-item">
                    <% switch (item.matchPosition) {
                      case "GK" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-warning gk">GK</span>
                      <% break;
                      case "DF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-success df">DF</span>
                      <% break;
                      case "MF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-primary mf">MF</span>
                      <% break;
                      case "FW" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-danger fw'">FW</span>
                      <% break;
                    } %>

                      <span class="pull-right">
                        <strong> <%= item.squadNumber %></strong>
                          <%= item.playerName  %>
                      </span>
                  </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-md-4 col-xs-4">
          <ul class="list-group">
            <li class="list-group-item">
              <span class="glyphicon glyphicon-record"></span> <strong> 19' </strong> 양준섭
            </li>
            <li class="list-group-item text-right">
              <span class="glyphicon glyphicon-record"></span> <strong> 19' </strong> 양준섭
            </li>
            <li class="list-group-item">
              <span class="glyphicon glyphicon-record"></span> <strong> 19' </strong> 양준섭
            </li>
            <li class="list-group-item">
              <span class="glyphicon glyphicon-record"></span> <strong> 19' </strong> 양준섭
            </li>
          </ul>
        </div>
        <!-- away -->

        <div class="col-md-4 col-xs-4">
          <div class="panel panel-success">
            <div class="panel-heading">AWAY</div>
            <div class="panel-body">
              <h5>선발</h5>
              <ul class="list-group">
                <% match.awayPlayers.starting.forEach(function(item, index){ %>
                  <li class="list-group-item">
                    <% switch(item.matchPosition) {
                      case "GK" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-warning gk">GK</span>
                      <% break;
                      case "DF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-success df">DF</span>
                      <% break;
                      case "MF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-primary mf">MF</span>
                      <% break;
                      case "FW" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-danger fw'">FW</span>
                      <% break;
                    } %>
                      <span class="glyphicon glyphicon-retweet pull-right"></span>
                      <span class="pull-right">&nbsp;&nbsp;</span>
                      <span class="pull-right">
                        <strong> <%= item.squadNumber %></strong>
                          <%= item.playerName  %>
                      </span>
                  </li>
                <% }); %>
              </ul>
            </div>
            <div class="panel-footer">
              <h5>대기</h5>
              <ul class="list-group sub">
                <% match.awayPlayers.sub.forEach(function(item, index){ %>
                  <li class="list-group-item">
                    <% switch (item.matchPosition) {
                      case "GK" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-warning gk">GK</span>
                      <% break;
                      case "DF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-success df">DF</span>
                      <% break;
                      case "MF" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-primary mf">MF</span>
                      <% break;
                      case "FW" : %>
                        <span data-toggle="modal"
                        data-target=".recordModal"
                        data-squadNumber="<%= item.squadNumber %>"
                        data-playerName="<%= item.playerName %>"
                        data-lineupId="<%= item.lineupId %>"
                        class="label label-danger fw'">FW</span>
                      <% break;
                    } %>

                      <span class="pull-right">
                        <strong> <%= item.squadNumber %></strong>
                          <%= item.playerName  %>
                      </span>
                  </li>
                <% }); %>
              </ul>
            </div>
          </div>
        </div>


      </div>




<div class="modal fade recordModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="playerForRecord"><strong>number</strong> name</h4>
      </div>
      <div class="modal-body">
        <div class="form-group has-success has-feedback">
          <label class="control-label col-sm-5" for="recordTime">시간 : </label>
          <div class="col-sm-7">
            <input type="text" class="form-control" id="recordTime">
          </div>
        </div>
        <br>
        <br>
        <div class="container">
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="goal" value="goal" checked>
              득점
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="ownGoal" value="ownGoal">
              자책골
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="penalties" value="penalties">
              패널티골
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="missedPenalties" value="missedPenalties">
              패널티실축
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="redCards" value="redCards">
              옐로카드
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="yellowCards" value="yellowCards">
              레드카드
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="yellowRedCard" value="yellowRedCard">
              Y2카드
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="recordName" id="substitutions" value="substitutions">
              교체
            </label>
          </div>
        </div>

        <div id="subsModal" class="container">
          <div class="radio">
            <label>
              <input type="radio" name="sub" value="sub1">
              sub1
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="sub" value="sub2">
              sub2
            </label>
          </div>
          <div class="radio">
            <label>
              <input type="radio" name="sub" value="sub3">
              sub3
            </label>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">취소</button>
        <button id="sendRecord" type="button" class="btn btn-primary">기록</button>
      </div>
    </div>
  </div>
</div>






      <% include ../layout/footer %>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <% include ../layout/defaultPlugins %>

    <script>

      $(document).on('click', '[data-toggle="modal"]', function (e) {

        console.log($(this).parentsUntil($(".panel")).eq(2).siblings());

        $("#playerForRecord").html(
              "<strong>" +
              $(this).attr("data-squadNumber") +
              "</strong>" +
              " " +
              $(this).attr("data-playerName")
          ).attr('data-lineupId', $(this).attr('data-lineupId'));


      });

      $(document).on('click', '#sendRecord', function (e) {
        console.log($("#playerForRecord").attr('data-lineupId'));
        $('.recordModal').modal('hide')
      });






      //라디오 해제하는것
      $('input[name="sub"]').click(function(){
          var $radio = $(this);
          console.log($radio);
          // if this was previously checked
          if ($radio.data('waschecked') == true)
          {
              $radio.prop('checked', false);
              $radio.data('waschecked', false);
          }
          else
              $radio.data('waschecked', true);

          // remove was checked from other radios
          $radio.siblings('input[name="sub"]').data('waschecked', false);
      });


    </script>
  </body>
</html>